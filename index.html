<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    *{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  </style>

  <body>
    <select name="menu" id="menu">
      <option value="all" selected>All</option>
      <option value="completed">Completed</option>
      <option value="notCompleted">Not Completed</option>
    </select>
    <button onclick="getData()">Search</button>
    <ul id="list"></ul>

    <script>
      let ulList = document.getElementById("list");

      function getData() {
        let selectedValue = document.getElementById("menu").value;
        async function fetchData() {
          try {
            const todoData = await fetch("https://dummyjson.com/todos");
            const todoDataJson = await todoData.json();
            const todos = await todoDataJson.todos;
            ulList.innerHTML = "";
            if (selectedValue === "all") {
              todos.map((list) => {
                return (ulList.innerHTML += `<li> ${list.todo} </li>`);
              });
            }
            if (selectedValue === "completed") {
              todos
                .filter((list) => list.completed)
                .map((list) => {
                  return (ulList.innerHTML += `<li> ${list.todo} </li>`);
                });
            }
            if (selectedValue === "notCompleted") {
              todos
                .filter((list) => !list.completed)
                .map((list) => {
                  return (ulList.innerHTML += `<li> ${list.todo} </li>`);
                });
            }
          } catch (error) {
            console.log(error);
          }
        }
      fetchData();
      }
      window.onload = getData()

    </script>
  </body>
</html>
